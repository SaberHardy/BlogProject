{% extends 'base.html' %}
{% block title %}Home{% endblock %}

{% block content %}

    {% for message in get_flashed_messages() %}
        <div class="alert alert-success alert-dismissible fade show" role="alert">
            <strong>{{ name|upper }}</strong> You are Welcome!
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
    {% endfor %}

    {% if name %}
        <h1>Hello {{ name }}</h1>
    {% else %}
        <h1>User List</h1>
        <br>
        <form method="post">
            {{ form.hidden_tag() }}

            {{ form.name.label() }}
            {{ form.name(class="form-control") }}

            {{ form.email.label() }}
            {{ form.email(class="form-control") }}

            <br>
            {{ form.submit(class='btn btn-success') }}
        </form>
        <br>
        <br>
        {% for user in all_users %}
            <div class="card shadow-lg p-3 mb-5 bg-white rounded" style="width: 18rem;">
                <div class="card-body box-shadow">
                    <div class="name-edit">
                        <h5 class="card-title">{{ user.id }} - {{ user.name }}</h5>
                        <a href="{{ url_for('update_user', id=user.id) }}">
                            <i class="bi bi-pencil-square text-success"></i>
                        </a>
                    </div>
                    <p class="card-text"> {{ user.email }}</p>
                </div>
            </div>
            <br>
        {% endfor %}

    {% endif %}

{% endblock %}